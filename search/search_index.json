{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Overview What is Decapod? Decapod\uc740 Declarative Application Orchestration & Delivery\uc758 \uc57d\uc790\ub85c\uc11c, \ub2e4\uc218\uc758 Kubernetes Cluster \ud658\uacbd\uc5d0 \ub2e4\uc591\ud55c Application Group \ub4e4\uc744 \ubc30\ud3ec\ud574\uc57c\ud560 \ub54c, \ubcf4\ub2e4 \uc26c\uc6b4 Yaml Documentation \uacfc Deployment Pipelining \uc744 \uc218\ud589\ud560 \uc218 \uc788\uac8c \ud574\uc900\ub2e4. Features LMA(Logging, Monitoring and Alarm), Service Mesh \ub4f1\uc758 pre-defined App Group \uc81c\uacf5 \uc0ac\uc6a9\uc790\uc758 Kubernetes \ud658\uacbd\uc5d0 \ub530\ub978 \uc190\uc26c\uc6b4 Yaml Customization \uc81c\uacf5 Application\uac04 Dependency\ub97c \uace0\ub824\ud55c \uc21c\ucc28\uc801/\ub2e8\uacc4\uc801\uc778 Deployment \uc9c0\uc6d0 Use Cases SKT Container Platform\uc5d0\uc11c\ub294 Decapod\ub97c \uae30\ubc18\uc73c\ub85c Cloud Infra Resource, Kubernetes Cluster \ubc0f \ub2e4\uc591\ud55c \uc11c\ube44\uc2a4\ub4e4\uc744 GitOps \ud615\ud0dc\ub85c \ubc30\ud3ec\ud558\uace0 \uad00\ub9ac\ud558\uace0 \uc788\uc73c\uba70 \uc2e4\uc81c\ub85c \ub2e4\uc74c\uacfc \uac19\uc740 Use Case\ub4e4\uc5d0\uc11c Decapod\uac00 \ud65c\uc6a9\ub418\uace0 \uc788\ub2e4. Kubernetes Cluster\ub97c \ub2e4\uc591\ud55c \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0 \ubc30\ud3ec \ubc0f \uad00\ub9ac Prometheus, \ub2e4\uc591\ud55c Exporter\ub4e4, Grafana, Loki, Promtail \ub4f1\uc758 logging/monitoring tool\ub4e4\uc744 \"LMA\"\ub77c\ub294 \ub2e8\uc77c App Group\uc73c\ub85c \uad6c\uc131\ud558\uc5ec \uc77c\uad04 \ubc30\ud3ec \ubc0f \uad00\ub9ac Istio, Jaeger, Kiali, Elastic Search, Service-mesh Portal \ub4f1\uc744 \"Service-Mesh\"\ub77c\ub294 \ub2e8\uc77c App Group\uc73c\ub85c \uad6c\uc131\ud558\uc5ec \uc77c\uad04 \ubc30\ud3ec \ubc0f \uad00\ub9ac Projects decapod-flow - Argo WorkflowTemplate\ub4e4\uc758 \uc800\uc7a5\uc18c decapod-base-yaml - \uc0dd\uc131\ub420 manifest\uc758 base\uac00 \ub418\ub294 base resource yaml decapod-site - \ud658\uacbd\uc5d0 \ub9de\uac8c kustomize\ub97c \ud1b5\ud574 override\ud560 \uc218 \uc788\ub294 site yaml decapod-manifests - base\uc640 site\ub97c \ud569\uccd0 \ub80c\ub354\ub9c1\ud55c \uacb0\uacfc\uc758 \uc800\uc7a5\uc18c decapod-bootstrap - \ucd5c\ucd08 decapod component\ub4e4\uc744 \uc124\uce58\ud574\uc8fc\ub294 \ud504\ub85c\uc81d\ud2b8","title":"Overview"},{"location":"#overview","text":"","title":"Overview"},{"location":"#what-is-decapod","text":"Decapod\uc740 Declarative Application Orchestration & Delivery\uc758 \uc57d\uc790\ub85c\uc11c, \ub2e4\uc218\uc758 Kubernetes Cluster \ud658\uacbd\uc5d0 \ub2e4\uc591\ud55c Application Group \ub4e4\uc744 \ubc30\ud3ec\ud574\uc57c\ud560 \ub54c, \ubcf4\ub2e4 \uc26c\uc6b4 Yaml Documentation \uacfc Deployment Pipelining \uc744 \uc218\ud589\ud560 \uc218 \uc788\uac8c \ud574\uc900\ub2e4.","title":"What is Decapod?"},{"location":"#features","text":"LMA(Logging, Monitoring and Alarm), Service Mesh \ub4f1\uc758 pre-defined App Group \uc81c\uacf5 \uc0ac\uc6a9\uc790\uc758 Kubernetes \ud658\uacbd\uc5d0 \ub530\ub978 \uc190\uc26c\uc6b4 Yaml Customization \uc81c\uacf5 Application\uac04 Dependency\ub97c \uace0\ub824\ud55c \uc21c\ucc28\uc801/\ub2e8\uacc4\uc801\uc778 Deployment \uc9c0\uc6d0","title":"Features"},{"location":"#use-cases","text":"SKT Container Platform\uc5d0\uc11c\ub294 Decapod\ub97c \uae30\ubc18\uc73c\ub85c Cloud Infra Resource, Kubernetes Cluster \ubc0f \ub2e4\uc591\ud55c \uc11c\ube44\uc2a4\ub4e4\uc744 GitOps \ud615\ud0dc\ub85c \ubc30\ud3ec\ud558\uace0 \uad00\ub9ac\ud558\uace0 \uc788\uc73c\uba70 \uc2e4\uc81c\ub85c \ub2e4\uc74c\uacfc \uac19\uc740 Use Case\ub4e4\uc5d0\uc11c Decapod\uac00 \ud65c\uc6a9\ub418\uace0 \uc788\ub2e4. Kubernetes Cluster\ub97c \ub2e4\uc591\ud55c \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0 \ubc30\ud3ec \ubc0f \uad00\ub9ac Prometheus, \ub2e4\uc591\ud55c Exporter\ub4e4, Grafana, Loki, Promtail \ub4f1\uc758 logging/monitoring tool\ub4e4\uc744 \"LMA\"\ub77c\ub294 \ub2e8\uc77c App Group\uc73c\ub85c \uad6c\uc131\ud558\uc5ec \uc77c\uad04 \ubc30\ud3ec \ubc0f \uad00\ub9ac Istio, Jaeger, Kiali, Elastic Search, Service-mesh Portal \ub4f1\uc744 \"Service-Mesh\"\ub77c\ub294 \ub2e8\uc77c App Group\uc73c\ub85c \uad6c\uc131\ud558\uc5ec \uc77c\uad04 \ubc30\ud3ec \ubc0f \uad00\ub9ac","title":"Use Cases"},{"location":"#projects","text":"decapod-flow - Argo WorkflowTemplate\ub4e4\uc758 \uc800\uc7a5\uc18c decapod-base-yaml - \uc0dd\uc131\ub420 manifest\uc758 base\uac00 \ub418\ub294 base resource yaml decapod-site - \ud658\uacbd\uc5d0 \ub9de\uac8c kustomize\ub97c \ud1b5\ud574 override\ud560 \uc218 \uc788\ub294 site yaml decapod-manifests - base\uc640 site\ub97c \ud569\uccd0 \ub80c\ub354\ub9c1\ud55c \uacb0\uacfc\uc758 \uc800\uc7a5\uc18c decapod-bootstrap - \ucd5c\ucd08 decapod component\ub4e4\uc744 \uc124\uce58\ud574\uc8fc\ub294 \ud504\ub85c\uc81d\ud2b8","title":"Projects"},{"location":"glossary/","text":"Glossary Glossary of terms app group An app group is a set of related applications. i.e. LMA(logging, monitoring and alert) site value A site value is one of the overlay that contain values that vary depending on the environment - e.g. dev, stage, production and so on. site name A site name is a name of the environment.","title":"Glossary"},{"location":"glossary/#glossary","text":"Glossary of terms","title":"Glossary"},{"location":"glossary/#app-group","text":"An app group is a set of related applications. i.e. LMA(logging, monitoring and alert)","title":"app group"},{"location":"glossary/#site-value","text":"A site value is one of the overlay that contain values that vary depending on the environment - e.g. dev, stage, production and so on.","title":"site value"},{"location":"glossary/#site-name","text":"A site name is a name of the environment.","title":"site name"},{"location":"troubleshooting/","text":"Troubleshooting Workflow Error \ubc1c\uc0dd \uc2dc Argo Workflow UI\uc5d0\uc11c \uc5d0\ub7ec\ub97c \ud655\uc778\ud55c\ub2e4. Argo CD UI\ub97c \ud1b5\ud574 \uc5d0\ub7ec\ub97c \ud655\uc778\ud55c\ub2e4. Kubectl CLI\ub97c \ud1b5\ud574 \uc5d0\ub7ec\ub97c \ud655\uc778\ud55c\ub2e4. kubectl get po -nlma kubectl describe po <\ubb38\uc81c\ub418\ub294 POD\uc758 \uc774\ub984>","title":"Troubleshooting"},{"location":"troubleshooting/#troubleshooting","text":"","title":"Troubleshooting"},{"location":"troubleshooting/#workflow-error","text":"Argo Workflow UI\uc5d0\uc11c \uc5d0\ub7ec\ub97c \ud655\uc778\ud55c\ub2e4. Argo CD UI\ub97c \ud1b5\ud574 \uc5d0\ub7ec\ub97c \ud655\uc778\ud55c\ub2e4. Kubectl CLI\ub97c \ud1b5\ud574 \uc5d0\ub7ec\ub97c \ud655\uc778\ud55c\ub2e4. kubectl get po -nlma kubectl describe po <\ubb38\uc81c\ub418\ub294 POD\uc758 \uc774\ub984>","title":"Workflow Error \ubc1c\uc0dd \uc2dc"},{"location":"concepts/","text":"Basics Decapod\ub294 Kubernetes Cluster \ud658\uacbd\uc744 \uae30\ubc18\uc73c\ub85c \ud558\uba70 Argo Workflow, Argo CD, Kustomize \ub4f1\uc758 \uc624\ud508\uc18c\uc2a4 S/W\ub97c \ud65c\uc6a9\ud558\uace0 \uc788\ub2e4. Decapod\ub97c \uc0ac\uc6a9\ud558\uae30 \uc55e\uc11c, \uac01 \ud504\ub85c\uc81d\ud2b8\uc5d0 \ub300\ud55c \uae30\ubcf8\uc801\uc778 \uc774\ud574\ub97c \ud558\uba74 Decapod\uc5d0 \ub300\ud574 \ub354 \uc27d\uac8c \uc774\ud574\ud560 \uc218 \uc788\ub2e4. \uc54c\uc544\ubcf4\uae30 Kubernetes \ucfe0\ubc84\ub124\ud2f0\uc2a4 \uae30\ucd08 \ud559\uc2b5 Kubernetes Hands-on Labs Argo Projects Argo Workflows Argo CD Kustomize Kustomize Tutorial Kustomize\ub97c \uc774\uc6a9\ud55c \ucfe0\ubc84\ub124\ud2f0\uc2a4 \uc624\ube0c\uc81d\ud2b8\uc758 \uc120\uc5b8\ud615 \uad00\ub9ac","title":"Basics"},{"location":"concepts/#basics","text":"Decapod\ub294 Kubernetes Cluster \ud658\uacbd\uc744 \uae30\ubc18\uc73c\ub85c \ud558\uba70 Argo Workflow, Argo CD, Kustomize \ub4f1\uc758 \uc624\ud508\uc18c\uc2a4 S/W\ub97c \ud65c\uc6a9\ud558\uace0 \uc788\ub2e4. Decapod\ub97c \uc0ac\uc6a9\ud558\uae30 \uc55e\uc11c, \uac01 \ud504\ub85c\uc81d\ud2b8\uc5d0 \ub300\ud55c \uae30\ubcf8\uc801\uc778 \uc774\ud574\ub97c \ud558\uba74 Decapod\uc5d0 \ub300\ud574 \ub354 \uc27d\uac8c \uc774\ud574\ud560 \uc218 \uc788\ub2e4.","title":"Basics"},{"location":"concepts/#_1","text":"","title":"\uc54c\uc544\ubcf4\uae30"},{"location":"concepts/#kubernetes","text":"\ucfe0\ubc84\ub124\ud2f0\uc2a4 \uae30\ucd08 \ud559\uc2b5 Kubernetes Hands-on Labs","title":"Kubernetes"},{"location":"concepts/#argo-projects","text":"Argo Workflows Argo CD","title":"Argo Projects"},{"location":"concepts/#kustomize","text":"Kustomize Tutorial Kustomize\ub97c \uc774\uc6a9\ud55c \ucfe0\ubc84\ub124\ud2f0\uc2a4 \uc624\ube0c\uc81d\ud2b8\uc758 \uc120\uc5b8\ud615 \uad00\ub9ac","title":"Kustomize"},{"location":"concepts/deployment/","text":"Deployment Overview Decapod\ub294 Argo Workflow\uc640 Argo CD\ub97c \ud1b5\ud574 Application Group\uc744 \ubc30\ud3ec\ud55c\ub2e4. \uc5ec\ub7ec Application(\ud639\uc740 Helm Chart)\ub97c \ubc30\ud3ec\ud560 \ub54c, \uac01 Application\ub4e4\uc740 \ub3d9\uc2dc\uc5d0 \uc124\uce58\ub420 \uc218\ub3c4 \uc788\uc9c0\ub9cc \uc758\uc874\uc131\uc758 \ubb38\uc81c\ub85c \uc21c\ucc28\uc801\uc73c\ub85c \ubc30\ud3ec\ud574\uc57c\ud560 \ub54c\uac00 \uc788\ub2e4. Argo Workflow\ub294 \uc774\ub7ec\ud55c sequential deployment\ub97c \uac00\ub2a5\ud558\uac8c \ud55c\ub2e4. \ub610 Argo CD\ub97c \ud1b5\ud574 Application\ub4e4\uc774 \ubc30\ud3ec\ub418\ubbc0\ub85c, \ud5a5\ud6c4 decapod-manifests \ud30c\uc77c\uc774 \ubcc0\uacbd\ub420 \ub54c automated sync \uae30\ub2a5\uc744 \ud1b5\ud574 \uc790\ub3d9\uc73c\ub85c \ubcc0\uacbd \uc0ac\ud56d\uc774 \uc801\uc6a9\ub418\uc5b4 \ud56d\uc0c1 \ucd5c\uc2e0 \ubc84\uc804\uc744 \uc720\uc9c0\ud560 \uc218 \uc788\ub2e4. decapod-flow github link Argo Workflow\ub97c \ud1b5\ud574 LMA, Service Mesh \ub4f1\uc758 Application Group\uc744 \ubc30\ud3ec\ud55c\ub2e4. \uc774 \ub54c \ud544\uc694\ud55c Argo Workflow Template\uacfc \uadf8 \uc678\uc758 \uc124\uc815\uc744 decapod-flow \uc5d0 \uc815\uc758\ud558\uc600\ub2e4. Workflow Templates Name Description Link prepare-argocd Argo CD \uc778\uc99d \uc815\ubcf4\ub97c \uc800\uc7a5\ud558\uace0, project\ub4e4\uc744 \ub9cc\ub4e0\ub2e4. prepare-argocd-wftpl.yaml create-application decapod-manifests repository\uc5d0 \uc800\uc7a5\ub41c YAML \ud30c\uc77c\uc744 \ud1b5\ud574 Argo CD\uc5d0 Application\uc744 \uc0dd\uc131\ud55c\ub2e4. createapp-wftpl.yaml delete-apps Argo CD Application\uc744 \uc0ad\uc81c\ud55c\ub2e4. delete-apps-wftpl.yaml lma-federation federation \ud615\uc0c1\uc758 LMA\ub97c \uc124\uce58\ud55c\ub2e4. Grafana, thanos \ub4f1\uc774 \ud3ec\ud568\ub41c\ub2e4. lma-federation-wftpl.yaml service-mesh Service Mesh\ub97c \uc124\uce58\ud55c\ub2e4. service-mesh-wftpl.yaml openstack-infra OpenStack\uc758 Memcached, Ceph\uacfc \uac19\uc740 Infra\uc5d0 \ud574\ub2f9\ud558\ub294 \uc11c\ube44\uc2a4\ub4e4\uc744 \uc124\uce58\ud55c\ub2e4. openstack-infra-wftpl.yaml openstack-components OpenStack\uc758 Infra \uc678\uc758 \ubaa8\ub4e0 \uc11c\ube44\uc2a4\ub4e4\uc744 \uc124\uce58\ud55c\ub2e4. openstack-components-wf.yaml \uc704\uc758 template \uc678\uc5d0 \"remove-APPGROUP\" template\uc758 \uacbd\uc6b0 \ud574\ub2f9 app group\uc744 \uc0ad\uc81c\ud558\ub294 \uc5ed\ud560\uc744 \uc218\ud589\ud55c\ub2e4.","title":"Deployment"},{"location":"concepts/deployment/#deployment","text":"","title":"Deployment"},{"location":"concepts/deployment/#overview","text":"Decapod\ub294 Argo Workflow\uc640 Argo CD\ub97c \ud1b5\ud574 Application Group\uc744 \ubc30\ud3ec\ud55c\ub2e4. \uc5ec\ub7ec Application(\ud639\uc740 Helm Chart)\ub97c \ubc30\ud3ec\ud560 \ub54c, \uac01 Application\ub4e4\uc740 \ub3d9\uc2dc\uc5d0 \uc124\uce58\ub420 \uc218\ub3c4 \uc788\uc9c0\ub9cc \uc758\uc874\uc131\uc758 \ubb38\uc81c\ub85c \uc21c\ucc28\uc801\uc73c\ub85c \ubc30\ud3ec\ud574\uc57c\ud560 \ub54c\uac00 \uc788\ub2e4. Argo Workflow\ub294 \uc774\ub7ec\ud55c sequential deployment\ub97c \uac00\ub2a5\ud558\uac8c \ud55c\ub2e4. \ub610 Argo CD\ub97c \ud1b5\ud574 Application\ub4e4\uc774 \ubc30\ud3ec\ub418\ubbc0\ub85c, \ud5a5\ud6c4 decapod-manifests \ud30c\uc77c\uc774 \ubcc0\uacbd\ub420 \ub54c automated sync \uae30\ub2a5\uc744 \ud1b5\ud574 \uc790\ub3d9\uc73c\ub85c \ubcc0\uacbd \uc0ac\ud56d\uc774 \uc801\uc6a9\ub418\uc5b4 \ud56d\uc0c1 \ucd5c\uc2e0 \ubc84\uc804\uc744 \uc720\uc9c0\ud560 \uc218 \uc788\ub2e4.","title":"Overview"},{"location":"concepts/deployment/#decapod-flow","text":"github link Argo Workflow\ub97c \ud1b5\ud574 LMA, Service Mesh \ub4f1\uc758 Application Group\uc744 \ubc30\ud3ec\ud55c\ub2e4. \uc774 \ub54c \ud544\uc694\ud55c Argo Workflow Template\uacfc \uadf8 \uc678\uc758 \uc124\uc815\uc744 decapod-flow \uc5d0 \uc815\uc758\ud558\uc600\ub2e4.","title":"decapod-flow"},{"location":"concepts/deployment/#workflow-templates","text":"Name Description Link prepare-argocd Argo CD \uc778\uc99d \uc815\ubcf4\ub97c \uc800\uc7a5\ud558\uace0, project\ub4e4\uc744 \ub9cc\ub4e0\ub2e4. prepare-argocd-wftpl.yaml create-application decapod-manifests repository\uc5d0 \uc800\uc7a5\ub41c YAML \ud30c\uc77c\uc744 \ud1b5\ud574 Argo CD\uc5d0 Application\uc744 \uc0dd\uc131\ud55c\ub2e4. createapp-wftpl.yaml delete-apps Argo CD Application\uc744 \uc0ad\uc81c\ud55c\ub2e4. delete-apps-wftpl.yaml lma-federation federation \ud615\uc0c1\uc758 LMA\ub97c \uc124\uce58\ud55c\ub2e4. Grafana, thanos \ub4f1\uc774 \ud3ec\ud568\ub41c\ub2e4. lma-federation-wftpl.yaml service-mesh Service Mesh\ub97c \uc124\uce58\ud55c\ub2e4. service-mesh-wftpl.yaml openstack-infra OpenStack\uc758 Memcached, Ceph\uacfc \uac19\uc740 Infra\uc5d0 \ud574\ub2f9\ud558\ub294 \uc11c\ube44\uc2a4\ub4e4\uc744 \uc124\uce58\ud55c\ub2e4. openstack-infra-wftpl.yaml openstack-components OpenStack\uc758 Infra \uc678\uc758 \ubaa8\ub4e0 \uc11c\ube44\uc2a4\ub4e4\uc744 \uc124\uce58\ud55c\ub2e4. openstack-components-wf.yaml \uc704\uc758 template \uc678\uc5d0 \"remove-APPGROUP\" template\uc758 \uacbd\uc6b0 \ud574\ub2f9 app group\uc744 \uc0ad\uc81c\ud558\ub294 \uc5ed\ud560\uc744 \uc218\ud589\ud55c\ub2e4.","title":"Workflow Templates"},{"location":"concepts/documentation/","text":"Documentation Overview Decapod\uc758 Documentation \uae30\ub2a5\uc740 \ubc18\ubcf5\uc801\uc774\uace0 \ubcf5\uc7a1\ud55c Yaml \ud30c\uc77c \uc791\uc131\uc744 \uc904\uc5ec\uc900\ub2e4. \ub2e4\uc218\uc758 Helm Chart\ub97c \ud558\ub098\uc758 Application Group\uc73c\ub85c \ubb36\uc5b4\uc11c \uad00\ub9ac\ud558\uace0 \ud558\ub098\uc758 \ud30c\uc77c\uc5d0\uc11c \ubaa8\ub4e0 \ucc28\ud2b8\uc758 value\ub97c override\ud560 \uc218 \uc788\ub2e4. \ubaa8\ub4e0 YAML \uc124\uc815\uc744 Git Repository\uc5d0 \uc800\uc7a5\ud558\uc5ec \ubc30\ud3ec\ud558\ub294 GitOps \uccb4\uacc4\uc774\ub2e4. YAML \uc124\uc815\uc744 Base\uc640 Site\ub85c \ub098\ub258\uc5b4 \uad00\ub9ac\ud558\uba70 Base\ub294 Application Group\uc5d0 \ub300\ud55c Default YAML, \uc989 \uac01 \ud658\uacbd\uacfc \ub3c5\ub9bd\uc801\uc778 \uacf5\ud1b5\uc801\uc778 \uc124\uc815\uac12\ub4e4\uc744 \uc815\uc758\ud55c\ub2e4. Base\uc758 \uac12\uc744 \ub0b4 \ud658\uacbd\uc5d0 \ub9de\uac8c \ubcc0\uacbd\ud558\uace0\uc790 \ud55c\ub2e4\uba74 Site\uc5d0\uc11c Value Override\ub97c \ud560 \uc218 \uc788\ub2e4. \uc774\ub294 Helm Chart\uc5d0\uc11c Template \uacfc values.yaml \uac19\uc740 \uc5ed\ud560\uc774\ub77c \ubcfc \uc218 \uc788\ub2e4. decapod-base-yaml github link kustomize \uaddc\uaca9\uc5d0 \ub9de\uac8c base resources file\ub4e4\uc744 \ubbf8\ub9ac \uc815\uc758\ud574 \ub193\uc740 \uacf3\uc774\ub2e4. \uc5ec\ub7ec Helm chart\ub97c \ubb36\uc5b4\uc11c LMA, Service Mesh \ub4f1\uc758 Application Group\uc73c\ub85c \uc815\uc758\ud558\uc600\uc73c\uba70, \ud658\uacbd\ubcc4\ub85c \uc8fc\ub85c \uc218\uc815\ud560 value\ub4e4\uc744 \ubaa8\uc544\ub193\uc740 site-values.yaml \uc744 \uc81c\uacf5\ud55c\ub2e4. Layout service-mesh \u251c\u2500\u2500 base \u2502 \u251c\u2500\u2500 kustomization.yaml \u2502 \u251c\u2500\u2500 resources.yaml \u2502 \u2514\u2500\u2500 site-values.yaml \u251c\u2500\u2500 image \u2502 \u2514\u2500\u2500 image-values.yaml lma \u251c\u2500\u2500 base \u2502 \u251c\u2500\u2500 kustomization.yaml \u2502 \u251c\u2500\u2500 resources.yaml \u2502 \u2514\u2500\u2500 site-values.yaml \u2514\u2500\u2500 image \u2514\u2500\u2500 image-values.yaml \ucd5c\uc0c1\ub2e8 Directory\ub294 Application Group\uc73c\ub85c \uad6c\ubd84\ub41c\ub2e4. \uac01 Application Group \uc548\uc5d0\ub294 base\uc640 image directory\uac00 \uc788\ub2e4. \uac01 \ub514\ub809\ud1a0\ub9ac\uc758 \uc5ed\ud560\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4. base - \uc804\uccb4 application \uc815\ubcf4\ub97c \ub2f4\uc740 resources.yaml \uacfc value override \uac12\uc744 \ub2f4\uace0 \uc788\ub294 site-values.yaml \uc774 \uc815\uc758\ub418\uc5b4 \uc788\ub2e4. image - Air Gap \ud658\uacbd\uc5d0\uc11c \ubc30\ud3ec\ud574\uc57c\ud560 \ub54c, \ubaa8\ub4e0 docker image \ud30c\uc77c\uc744 \ub0b4\ubd80 docker registry\ub97c \ubc14\ub77c\ubcf4\ub3c4\ub85d \ubc14\uafd4\uc57c\ud55c\ub2e4. \uc774\ub97c \uc704\ud574 \ubbf8\ub9ac \ubaa8\ub4e0 image \uac12\uc744 override\ud560 \uc218 \uc788\ub3c4\ub85d \uc815\uc758\ud574\ub193\uc740 overlay \ud30c\uc77c\uc774\ub2e4. Application Group github link \ud604\uc7ac decapod-base-yaml\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 Application Group\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4. LMA (Logging, Monitoring and Alarm) Service Mesh OpenStack decapod-site decapod-base-yaml\uc5d0 \uc815\uc758\ub41c Application Group\uc744 \ubc30\ud3ec \ud658\uacbd\uc5d0 \ub9de\uac8c customize\ud558\uae30 \uc704\ud55c \uc124\uc815\uc744 \uc800\uc7a5\ud558\ub294 \uacf3\uc774\ub2e4. \uc0ac\uc6a9\uc790\ub4e4\uc774 \uc62c\ub9b0 PR\uc774 decapod-site main branch\ub85c merge\ub418\uba74 github action\uc744 \ud1b5\ud574 \uc790\ub3d9\uc73c\ub85c kustomize build \uba85\ub839\uc774 \uc218\ud589\ub418\uc5b4 \uacb0\uacfc\ubb3c\uc774 decapod-manifests repository\uc5d0 \uc800\uc7a5\ub41c\ub2e4. Layout \u251c\u2500\u2500 \uc0ac\uc774\ud2b8\uba85 \u2502 \u251c\u2500\u2500 application\uc774\ub984 \u2502 \u2502 \u251c\u2500\u2500 kustomization.yaml \u2502 \u2502 \u2514\u2500\u2500 site-values.yaml \u251c\u2500\u2500 decapod-reference \u2502 \u251c\u2500\u2500 lma \u2502 \u2502 \u251c\u2500\u2500 kustomization.yaml \u2502 \u2502 \u2514\u2500\u2500 site-values.yaml \u2502 \u251c\u2500\u2500 openstack \u2502 \u2502 \u251c\u2500\u2500 kustomization.yaml \u2502 \u2502 \u2514\u2500\u2500 site-values.yaml \u2502 \u2514\u2500\u2500 service-mesh \u2502 \u251c\u2500\u2500 kustomization.yaml \u2514\u2500\u2500 decapod-reference-offline \u251c\u2500\u2500 lma \u2502 \u251c\u2500\u2500 image-values.yaml \u2502 \u251c\u2500\u2500 kustomization.yaml \u2502 \u2514\u2500\u2500 site-values.yaml \u2514\u2500\u2500 service-mesh \u251c\u2500\u2500 image-values.yaml \u251c\u2500\u2500 kustomization.yaml \u2514\u2500\u2500 site-values.yaml \ucd5c\uc0c1\ub2e8 \ub514\ub809\ud1a0\ub9ac\ub294 \uc0ac\uc774\ud2b8(\ud658\uacbd)\uc73c\ub85c \uad6c\ubd84\ub41c\ub2e4. \uc628\ub77c\uc778 \ud658\uacbd\uc744 \uc704\ud55c sample site\ub294 decapod-reference \uc774\uace0, \uc624\ud504\ub77c\uc778(Air-gapped) \ud658\uacbd\uc744 \uc704\ud55c sample site\ub294 decapod-reference-offline \uc774\ub2e4. decapod-manifests github link decapod-base-yaml\uacfc decapod-site\ub85c\ubd80\ud130 kustomize build\ub41c \uacb0\uacfc\ubb3c \uc774 \uc800\uc7a5\ub418\ub294 \uacf3\uc774\ub2e4. decapod-site\uc640 \ub3d9\uc77c\ud55c directory \uad6c\uc870\ub97c \uac00\uc9c0\uc9c0\ub9cc, \ucd5c\uc885 output\uc758 \ud615\ud0dc\ub294 Helm chart\ub85c\ubd80\ud130 \uc0dd\uc131\ub41c plaintext yaml\uc774\ub2e4. Example base(1) + site(2) => manifests(3) decapod-base-yaml/lma/base/resources.yaml: apiVersion : helm . fluxcd . io / v1 kind : HelmRelease metadata : name : elasticsearch - operator spec : chart : repository : https :// openinfradev . github . io / helm - repo name : elasticsearch - operator version : 1.0 . 3 releaseName : elasticsearch - operator targetNamespace : elastic - system values : elasticsearchOperator : nodeSelector : {} # TO_BE_FIXED decapod-site/dev/lma/site-values.yaml: apiVersion : openinfradev . github . com / v1 kind : HelmValuesTransformer metadata : name : site global : nodeSelector : taco - lma : enabled charts : - name : elasticsearch - operator override : elasticsearchOperator . nodeSelector : $ ( nodeSelector ) decapod-site/dev/lma/lma-manifest.yaml: apiVersion : helm . fluxcd . io / v1 kind : HelmRelease metadata : name : elasticsearch - operator spec : chart : repository : https :// openinfradev . github . io / helm - repo name : elasticsearch - operator version : 1.0 . 3 releaseName : elasticsearch - operator targetNamespace : elastic - system values : elasticsearchOperator : nodeSelector : taco - lma : enabled","title":"Documentation"},{"location":"concepts/documentation/#documentation","text":"","title":"Documentation"},{"location":"concepts/documentation/#overview","text":"Decapod\uc758 Documentation \uae30\ub2a5\uc740 \ubc18\ubcf5\uc801\uc774\uace0 \ubcf5\uc7a1\ud55c Yaml \ud30c\uc77c \uc791\uc131\uc744 \uc904\uc5ec\uc900\ub2e4. \ub2e4\uc218\uc758 Helm Chart\ub97c \ud558\ub098\uc758 Application Group\uc73c\ub85c \ubb36\uc5b4\uc11c \uad00\ub9ac\ud558\uace0 \ud558\ub098\uc758 \ud30c\uc77c\uc5d0\uc11c \ubaa8\ub4e0 \ucc28\ud2b8\uc758 value\ub97c override\ud560 \uc218 \uc788\ub2e4. \ubaa8\ub4e0 YAML \uc124\uc815\uc744 Git Repository\uc5d0 \uc800\uc7a5\ud558\uc5ec \ubc30\ud3ec\ud558\ub294 GitOps \uccb4\uacc4\uc774\ub2e4. YAML \uc124\uc815\uc744 Base\uc640 Site\ub85c \ub098\ub258\uc5b4 \uad00\ub9ac\ud558\uba70 Base\ub294 Application Group\uc5d0 \ub300\ud55c Default YAML, \uc989 \uac01 \ud658\uacbd\uacfc \ub3c5\ub9bd\uc801\uc778 \uacf5\ud1b5\uc801\uc778 \uc124\uc815\uac12\ub4e4\uc744 \uc815\uc758\ud55c\ub2e4. Base\uc758 \uac12\uc744 \ub0b4 \ud658\uacbd\uc5d0 \ub9de\uac8c \ubcc0\uacbd\ud558\uace0\uc790 \ud55c\ub2e4\uba74 Site\uc5d0\uc11c Value Override\ub97c \ud560 \uc218 \uc788\ub2e4. \uc774\ub294 Helm Chart\uc5d0\uc11c Template \uacfc values.yaml \uac19\uc740 \uc5ed\ud560\uc774\ub77c \ubcfc \uc218 \uc788\ub2e4.","title":"Overview"},{"location":"concepts/documentation/#decapod-base-yaml","text":"github link kustomize \uaddc\uaca9\uc5d0 \ub9de\uac8c base resources file\ub4e4\uc744 \ubbf8\ub9ac \uc815\uc758\ud574 \ub193\uc740 \uacf3\uc774\ub2e4. \uc5ec\ub7ec Helm chart\ub97c \ubb36\uc5b4\uc11c LMA, Service Mesh \ub4f1\uc758 Application Group\uc73c\ub85c \uc815\uc758\ud558\uc600\uc73c\uba70, \ud658\uacbd\ubcc4\ub85c \uc8fc\ub85c \uc218\uc815\ud560 value\ub4e4\uc744 \ubaa8\uc544\ub193\uc740 site-values.yaml \uc744 \uc81c\uacf5\ud55c\ub2e4.","title":"decapod-base-yaml"},{"location":"concepts/documentation/#layout","text":"service-mesh \u251c\u2500\u2500 base \u2502 \u251c\u2500\u2500 kustomization.yaml \u2502 \u251c\u2500\u2500 resources.yaml \u2502 \u2514\u2500\u2500 site-values.yaml \u251c\u2500\u2500 image \u2502 \u2514\u2500\u2500 image-values.yaml lma \u251c\u2500\u2500 base \u2502 \u251c\u2500\u2500 kustomization.yaml \u2502 \u251c\u2500\u2500 resources.yaml \u2502 \u2514\u2500\u2500 site-values.yaml \u2514\u2500\u2500 image \u2514\u2500\u2500 image-values.yaml \ucd5c\uc0c1\ub2e8 Directory\ub294 Application Group\uc73c\ub85c \uad6c\ubd84\ub41c\ub2e4. \uac01 Application Group \uc548\uc5d0\ub294 base\uc640 image directory\uac00 \uc788\ub2e4. \uac01 \ub514\ub809\ud1a0\ub9ac\uc758 \uc5ed\ud560\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4. base - \uc804\uccb4 application \uc815\ubcf4\ub97c \ub2f4\uc740 resources.yaml \uacfc value override \uac12\uc744 \ub2f4\uace0 \uc788\ub294 site-values.yaml \uc774 \uc815\uc758\ub418\uc5b4 \uc788\ub2e4. image - Air Gap \ud658\uacbd\uc5d0\uc11c \ubc30\ud3ec\ud574\uc57c\ud560 \ub54c, \ubaa8\ub4e0 docker image \ud30c\uc77c\uc744 \ub0b4\ubd80 docker registry\ub97c \ubc14\ub77c\ubcf4\ub3c4\ub85d \ubc14\uafd4\uc57c\ud55c\ub2e4. \uc774\ub97c \uc704\ud574 \ubbf8\ub9ac \ubaa8\ub4e0 image \uac12\uc744 override\ud560 \uc218 \uc788\ub3c4\ub85d \uc815\uc758\ud574\ub193\uc740 overlay \ud30c\uc77c\uc774\ub2e4.","title":"Layout"},{"location":"concepts/documentation/#application-group","text":"github link \ud604\uc7ac decapod-base-yaml\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 Application Group\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4. LMA (Logging, Monitoring and Alarm) Service Mesh OpenStack","title":"Application Group"},{"location":"concepts/documentation/#decapod-site","text":"decapod-base-yaml\uc5d0 \uc815\uc758\ub41c Application Group\uc744 \ubc30\ud3ec \ud658\uacbd\uc5d0 \ub9de\uac8c customize\ud558\uae30 \uc704\ud55c \uc124\uc815\uc744 \uc800\uc7a5\ud558\ub294 \uacf3\uc774\ub2e4. \uc0ac\uc6a9\uc790\ub4e4\uc774 \uc62c\ub9b0 PR\uc774 decapod-site main branch\ub85c merge\ub418\uba74 github action\uc744 \ud1b5\ud574 \uc790\ub3d9\uc73c\ub85c kustomize build \uba85\ub839\uc774 \uc218\ud589\ub418\uc5b4 \uacb0\uacfc\ubb3c\uc774 decapod-manifests repository\uc5d0 \uc800\uc7a5\ub41c\ub2e4.","title":"decapod-site"},{"location":"concepts/documentation/#layout_1","text":"\u251c\u2500\u2500 \uc0ac\uc774\ud2b8\uba85 \u2502 \u251c\u2500\u2500 application\uc774\ub984 \u2502 \u2502 \u251c\u2500\u2500 kustomization.yaml \u2502 \u2502 \u2514\u2500\u2500 site-values.yaml \u251c\u2500\u2500 decapod-reference \u2502 \u251c\u2500\u2500 lma \u2502 \u2502 \u251c\u2500\u2500 kustomization.yaml \u2502 \u2502 \u2514\u2500\u2500 site-values.yaml \u2502 \u251c\u2500\u2500 openstack \u2502 \u2502 \u251c\u2500\u2500 kustomization.yaml \u2502 \u2502 \u2514\u2500\u2500 site-values.yaml \u2502 \u2514\u2500\u2500 service-mesh \u2502 \u251c\u2500\u2500 kustomization.yaml \u2514\u2500\u2500 decapod-reference-offline \u251c\u2500\u2500 lma \u2502 \u251c\u2500\u2500 image-values.yaml \u2502 \u251c\u2500\u2500 kustomization.yaml \u2502 \u2514\u2500\u2500 site-values.yaml \u2514\u2500\u2500 service-mesh \u251c\u2500\u2500 image-values.yaml \u251c\u2500\u2500 kustomization.yaml \u2514\u2500\u2500 site-values.yaml \ucd5c\uc0c1\ub2e8 \ub514\ub809\ud1a0\ub9ac\ub294 \uc0ac\uc774\ud2b8(\ud658\uacbd)\uc73c\ub85c \uad6c\ubd84\ub41c\ub2e4. \uc628\ub77c\uc778 \ud658\uacbd\uc744 \uc704\ud55c sample site\ub294 decapod-reference \uc774\uace0, \uc624\ud504\ub77c\uc778(Air-gapped) \ud658\uacbd\uc744 \uc704\ud55c sample site\ub294 decapod-reference-offline \uc774\ub2e4.","title":"Layout"},{"location":"concepts/documentation/#decapod-manifests","text":"github link decapod-base-yaml\uacfc decapod-site\ub85c\ubd80\ud130 kustomize build\ub41c \uacb0\uacfc\ubb3c \uc774 \uc800\uc7a5\ub418\ub294 \uacf3\uc774\ub2e4. decapod-site\uc640 \ub3d9\uc77c\ud55c directory \uad6c\uc870\ub97c \uac00\uc9c0\uc9c0\ub9cc, \ucd5c\uc885 output\uc758 \ud615\ud0dc\ub294 Helm chart\ub85c\ubd80\ud130 \uc0dd\uc131\ub41c plaintext yaml\uc774\ub2e4.","title":"decapod-manifests"},{"location":"concepts/documentation/#example","text":"base(1) + site(2) => manifests(3) decapod-base-yaml/lma/base/resources.yaml: apiVersion : helm . fluxcd . io / v1 kind : HelmRelease metadata : name : elasticsearch - operator spec : chart : repository : https :// openinfradev . github . io / helm - repo name : elasticsearch - operator version : 1.0 . 3 releaseName : elasticsearch - operator targetNamespace : elastic - system values : elasticsearchOperator : nodeSelector : {} # TO_BE_FIXED decapod-site/dev/lma/site-values.yaml: apiVersion : openinfradev . github . com / v1 kind : HelmValuesTransformer metadata : name : site global : nodeSelector : taco - lma : enabled charts : - name : elasticsearch - operator override : elasticsearchOperator . nodeSelector : $ ( nodeSelector ) decapod-site/dev/lma/lma-manifest.yaml: apiVersion : helm . fluxcd . io / v1 kind : HelmRelease metadata : name : elasticsearch - operator spec : chart : repository : https :// openinfradev . github . io / helm - repo name : elasticsearch - operator version : 1.0 . 3 releaseName : elasticsearch - operator targetNamespace : elastic - system values : elasticsearchOperator : nodeSelector : taco - lma : enabled","title":"Example"},{"location":"getting-started/customize-yaml/","text":"Customizing configurations Decapod-site\ub97c \ubc30\ud3ec\ud560 \ud658\uacbd\uc5d0 \ub9de\uac8c \uc218\uc815\ud558\uc5ec Argo CD app\ub4e4\uc5d0\uc11c \ucc38\uc870\ud560 decapod-manifests\ub97c \uc0dd\uc131\ud55c\ub2e4. \uc0ac\uc804 \uc900\ube44 decapod-site \ub97c \uc790\uc2e0\uc758 repo\ub85c fork\ud55c\ub2e4. Fork \ubc29\ubc95 \ub80c\ub354\ub9c1\ub41c decapod-manifests \ub97c \uc800\uc7a5\ud560 repository\ub97c \uc0dd\uc131\ud55c\ub2e4. \uc608: github.com/{YOUR_REPO_NAME}/decapod-manifest.git \uc2e0\uaddc \uc0ac\uc774\ud2b8 \uc0dd\uc131 $ git clone https://github.com/ { YOUR_REPO_NAME } /decapod-site.git $ cd decapod-site $ ./create_site.sh <SITE_NAME> Cloning into '.base-yaml' ... remote: Enumerating objects: 146 , done . remote: Counting objects: 100 % ( 146 /146 ) , done . remote: Compressing objects: 100 % ( 106 /106 ) , done . remote: Total 533 ( delta 54 ) , reused 101 ( delta 29 ) , pack-reused 387 Receiving objects: 100 % ( 533 /533 ) , 187 .43 KiB | 2 .53 MiB/s, done . Resolving deltas: 100 % ( 186 /186 ) , done . $ ls <SITE_NAME> admin-tools cloud-console lma openstack service-mesh Configuration \uc218\uc815 Note \uc774 \ubb38\uc11c\ub294 LMA \uad00\ub828 \uc124\uc815\uc744 \ucee4\uc2a4\ud130\ub9c8\uc774\uc988\ud558\ub294 \uc608\uc2dc\uc774\ub2e4. service-mesh, openstack \ub4f1\uc740 site-values.yaml \ub0b4\uc6a9\uc774 \ub2e4\ub974\ubbc0\ub85c \uac01 site-values.yaml \ud30c\uc77c \ub0b4\uc6a9\uc744 \ubcf4\uace0 \uc218\uc815\ud574\uc57c\ud55c\ub2e4. decapod-site/<SITE_NAME>/lma/site-values.yaml : \uae00\ub85c\ubc8c \ubcc0\uc218 \uae00\ub85c\ubc8c \ubcc0\uc218\ub294 site-values.yaml \ud30c\uc77c \ub0b4\uc5d0\uc11c \uc7ac\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ubcc0\uc218\uc774\ub2e4. \uc5ec\ub7ec \ucc28\ud2b8\uc5d0\uc11c \ub3d9\uc77c\ud558\uac8c \uc0ac\uc6a9\ub418\uc57c\ud558\ub294 \ubcc0\uc218\uc758 \uacbd\uc6b0 global\uc5d0 \uc815\uc758\ud558\uc5ec $(GLOBAL_VAR_NAME) \ud615\uc2dd\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4. 6 7 8 9 10 11 12 13 14 15 16 global : nodeSelector : taco-lma : enabled clusterName : cluster.local storageClassName : taco-storage repository : https://openinfradev.github.io/hanu-helm-repo/ serviceScrapeInterval : 30s defaultPassword : password defaultUser : taco thanosObjstoreSecret : taco-objstore-secret thanosPrimaryCluster : false \ucc28\ud2b8\ubcc4 \ubcc0\uc218 IP\uc640 Storage Size\uc640 \uac19\uc740 \uc124\uc815\uc744 \ud658\uacbd\uc5d0 \ub9de\uac8c \ubc14\uafd4\uc900\ub2e4. \uc544\ub798\ub294 prometheus\uc758 \uac12\uc744 override\ud558\ub294 \uc608\uc2dc\uc774\ub2e4. 25 26 27 28 29 30 31 32 33 - name : prometheus override : kubeEtcd.endpoints : - 172.27.1.222 prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.storageClassName : $(storageClassName) prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage : 10Gi prometheus.prometheusSpec.retention : 2d prometheus.prometheusSpec.externalLabels.taco_cluster : dev prometheus.prometheusSpec.nodeSelector : $(nodeSelector) Local Build(rendering) Note \ub85c\uceec \ud658\uacbd\uc5d0\uc11c \ube4c\ub4dc\ud558\uae30 \uc704\ud574\uc11c\ub294 docker \uac00 \uc124\uce58\ub418\uc5b4 \uc788\uc5b4\uc57c\ud55c\ub2e4. \ub85c\uceec \ube4c\ub4dc\ub294 \ub2e8\uc21c\ud788 documentation \uac80\uc99d\uc744 \uc704\ud55c \uc808\ucc28\uc774\uba70, \ub85c\uceec\uc5d0\uc11c \ube4c\ub4dc\ub41c \uacb0\uacfc\ubb3c\uc774 decapod-manifests\uc640 \uac19\uc740 github repository\uc5d0 push\ub418\uc5b4\uc57c \uc2e4\uc81c \ubc30\ud3ec\uac00 \uac00\ub2a5\ud558\ub2e4. decapod-site/.github/workflows/render-cd.sh \ud30c\uc77c\uc744 \uc0ac\uc6a9\ud558\uc5ec \ube4c\ub4dc\ud55c\ub2e4. $ cd decapod-site $ .github/workflows/render-cd.sh --base-url <DECAPOD-BASE-URL> # \ud2b9\uc815 site\uc5d0 \ub300\ud574\uc11c\ub9cc rendering\ud560 \uacbd\uc6b0 $ .github/workflows/render-cd.sh --base-url <DECAPOD-BASE-URL> --site <YOUR-SITE-NAME> \uc2e4\uc81c \ubc30\ud3ec\ub97c \uc704\ud574\uc11c\ub294 \ube4c\ub4dc\ub41c \ucd5c\uc885 \uacb0\uacfc\ubb3c\uc744 \ubbf8\ub9ac \uc0dd\uc131\ud574\ub193\uc740 'decapod-manifest' repository\ub85c push\ud574\uc900\ub2e4 $ cd <YOUR-DECAPOD-SITE-DIRECTORY> $ cd output # 'output' is directory for output manifests $ mv ./* <YOUR-DECAPOD-MANIFEST_DIRECTORY>/ $ cd <YOUR-DECAPOD-MANIFEST_DIRECTORY> $ git commit $ git push \uc790\ub3d9 Build Decapod-site\ub294 Github Action\uc744 \ud1b5\ud574 \ube4c\ub4dc\ub97c \uc790\ub3d9\ud654\ud558\uc600\ub2e4. Repository\uc5d0 pull request\uac00 \uc0dd\uc131\ub418\uc5b4 main branch\uc5d0 merge\ub418\uba74, \ub80c\ub354\ub9c1\ub41c \uacb0\uacfc\ubb3c\uc774 decapod-manifest repo\ub85c \uc790\ub3d9\uc73c\ub85c push \ub418\uba70, \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \uc5ec\uae30 \ub97c \ucc38\uace0\ud560 \uc218 \uc788\ub2e4.","title":"Customizing configurations"},{"location":"getting-started/customize-yaml/#customizing-configurations","text":"Decapod-site\ub97c \ubc30\ud3ec\ud560 \ud658\uacbd\uc5d0 \ub9de\uac8c \uc218\uc815\ud558\uc5ec Argo CD app\ub4e4\uc5d0\uc11c \ucc38\uc870\ud560 decapod-manifests\ub97c \uc0dd\uc131\ud55c\ub2e4.","title":"Customizing configurations"},{"location":"getting-started/customize-yaml/#_1","text":"decapod-site \ub97c \uc790\uc2e0\uc758 repo\ub85c fork\ud55c\ub2e4. Fork \ubc29\ubc95 \ub80c\ub354\ub9c1\ub41c decapod-manifests \ub97c \uc800\uc7a5\ud560 repository\ub97c \uc0dd\uc131\ud55c\ub2e4. \uc608: github.com/{YOUR_REPO_NAME}/decapod-manifest.git","title":"\uc0ac\uc804 \uc900\ube44"},{"location":"getting-started/customize-yaml/#_2","text":"$ git clone https://github.com/ { YOUR_REPO_NAME } /decapod-site.git $ cd decapod-site $ ./create_site.sh <SITE_NAME> Cloning into '.base-yaml' ... remote: Enumerating objects: 146 , done . remote: Counting objects: 100 % ( 146 /146 ) , done . remote: Compressing objects: 100 % ( 106 /106 ) , done . remote: Total 533 ( delta 54 ) , reused 101 ( delta 29 ) , pack-reused 387 Receiving objects: 100 % ( 533 /533 ) , 187 .43 KiB | 2 .53 MiB/s, done . Resolving deltas: 100 % ( 186 /186 ) , done . $ ls <SITE_NAME> admin-tools cloud-console lma openstack service-mesh","title":"\uc2e0\uaddc \uc0ac\uc774\ud2b8 \uc0dd\uc131"},{"location":"getting-started/customize-yaml/#configuration","text":"Note \uc774 \ubb38\uc11c\ub294 LMA \uad00\ub828 \uc124\uc815\uc744 \ucee4\uc2a4\ud130\ub9c8\uc774\uc988\ud558\ub294 \uc608\uc2dc\uc774\ub2e4. service-mesh, openstack \ub4f1\uc740 site-values.yaml \ub0b4\uc6a9\uc774 \ub2e4\ub974\ubbc0\ub85c \uac01 site-values.yaml \ud30c\uc77c \ub0b4\uc6a9\uc744 \ubcf4\uace0 \uc218\uc815\ud574\uc57c\ud55c\ub2e4. decapod-site/<SITE_NAME>/lma/site-values.yaml : \uae00\ub85c\ubc8c \ubcc0\uc218 \uae00\ub85c\ubc8c \ubcc0\uc218\ub294 site-values.yaml \ud30c\uc77c \ub0b4\uc5d0\uc11c \uc7ac\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ubcc0\uc218\uc774\ub2e4. \uc5ec\ub7ec \ucc28\ud2b8\uc5d0\uc11c \ub3d9\uc77c\ud558\uac8c \uc0ac\uc6a9\ub418\uc57c\ud558\ub294 \ubcc0\uc218\uc758 \uacbd\uc6b0 global\uc5d0 \uc815\uc758\ud558\uc5ec $(GLOBAL_VAR_NAME) \ud615\uc2dd\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4. 6 7 8 9 10 11 12 13 14 15 16 global : nodeSelector : taco-lma : enabled clusterName : cluster.local storageClassName : taco-storage repository : https://openinfradev.github.io/hanu-helm-repo/ serviceScrapeInterval : 30s defaultPassword : password defaultUser : taco thanosObjstoreSecret : taco-objstore-secret thanosPrimaryCluster : false \ucc28\ud2b8\ubcc4 \ubcc0\uc218 IP\uc640 Storage Size\uc640 \uac19\uc740 \uc124\uc815\uc744 \ud658\uacbd\uc5d0 \ub9de\uac8c \ubc14\uafd4\uc900\ub2e4. \uc544\ub798\ub294 prometheus\uc758 \uac12\uc744 override\ud558\ub294 \uc608\uc2dc\uc774\ub2e4. 25 26 27 28 29 30 31 32 33 - name : prometheus override : kubeEtcd.endpoints : - 172.27.1.222 prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.storageClassName : $(storageClassName) prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage : 10Gi prometheus.prometheusSpec.retention : 2d prometheus.prometheusSpec.externalLabels.taco_cluster : dev prometheus.prometheusSpec.nodeSelector : $(nodeSelector)","title":"Configuration \uc218\uc815"},{"location":"getting-started/customize-yaml/#local-buildrendering","text":"Note \ub85c\uceec \ud658\uacbd\uc5d0\uc11c \ube4c\ub4dc\ud558\uae30 \uc704\ud574\uc11c\ub294 docker \uac00 \uc124\uce58\ub418\uc5b4 \uc788\uc5b4\uc57c\ud55c\ub2e4. \ub85c\uceec \ube4c\ub4dc\ub294 \ub2e8\uc21c\ud788 documentation \uac80\uc99d\uc744 \uc704\ud55c \uc808\ucc28\uc774\uba70, \ub85c\uceec\uc5d0\uc11c \ube4c\ub4dc\ub41c \uacb0\uacfc\ubb3c\uc774 decapod-manifests\uc640 \uac19\uc740 github repository\uc5d0 push\ub418\uc5b4\uc57c \uc2e4\uc81c \ubc30\ud3ec\uac00 \uac00\ub2a5\ud558\ub2e4. decapod-site/.github/workflows/render-cd.sh \ud30c\uc77c\uc744 \uc0ac\uc6a9\ud558\uc5ec \ube4c\ub4dc\ud55c\ub2e4. $ cd decapod-site $ .github/workflows/render-cd.sh --base-url <DECAPOD-BASE-URL> # \ud2b9\uc815 site\uc5d0 \ub300\ud574\uc11c\ub9cc rendering\ud560 \uacbd\uc6b0 $ .github/workflows/render-cd.sh --base-url <DECAPOD-BASE-URL> --site <YOUR-SITE-NAME> \uc2e4\uc81c \ubc30\ud3ec\ub97c \uc704\ud574\uc11c\ub294 \ube4c\ub4dc\ub41c \ucd5c\uc885 \uacb0\uacfc\ubb3c\uc744 \ubbf8\ub9ac \uc0dd\uc131\ud574\ub193\uc740 'decapod-manifest' repository\ub85c push\ud574\uc900\ub2e4 $ cd <YOUR-DECAPOD-SITE-DIRECTORY> $ cd output # 'output' is directory for output manifests $ mv ./* <YOUR-DECAPOD-MANIFEST_DIRECTORY>/ $ cd <YOUR-DECAPOD-MANIFEST_DIRECTORY> $ git commit $ git push","title":"Local Build(rendering)"},{"location":"getting-started/customize-yaml/#build","text":"Decapod-site\ub294 Github Action\uc744 \ud1b5\ud574 \ube4c\ub4dc\ub97c \uc790\ub3d9\ud654\ud558\uc600\ub2e4. Repository\uc5d0 pull request\uac00 \uc0dd\uc131\ub418\uc5b4 main branch\uc5d0 merge\ub418\uba74, \ub80c\ub354\ub9c1\ub41c \uacb0\uacfc\ubb3c\uc774 decapod-manifest repo\ub85c \uc790\ub3d9\uc73c\ub85c push \ub418\uba70, \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \uc5ec\uae30 \ub97c \ucc38\uace0\ud560 \uc218 \uc788\ub2e4.","title":"\uc790\ub3d9 Build"},{"location":"getting-started/deploying/","text":"Deploying applications \uc0ac\uc804 \uc900\ube44 argo CLI \uac00 \uc124\uce58\ub418\uc5b4 \uc788\uc5b4\uc57c \ud55c\ub2e4. argo CLI \uc124\uce58 decapod-flow\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 WorkflowTemplate \uc744 \uc544\ub798\uc640 \uac19\uc774 Argo Workflow Server\uc5d0 \ub4f1\ub85d\ud55c\ub2e4. \uac01\uac01\uc740 decapod\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 pre-defined workflow \ud15c\ud50c\ub9bf\uc774\ub2e4. git clone https://github.com/openinfradev/decapod-flow.git cd decapod-flow/templates # argo \ub97c \uc704\ud55c rbac manifest \ub97c \uc801\uc6a9\ud55c\ub2e4. kubectl apply -f argo-additional-rbac.yaml # workflow template\uc744 argo workflow server\uc5d0 \ub4f1\ub85d\ud55c\ub2e4. kubectl apply -f ./argo-cd/ kubectl apply -f ./decapod-apps/ \ubc30\ud3ec Note \uc774 \ubb38\uc11c\uc5d0\uc11c\ub294 LMA (Logging/Monitoring/Allerting) \ubc30\ud3ec\uc5d0 \ub300\ud574\uc11c\ub9cc \ub2e4\ub8ec\ub2e4. Argo CLI\ub85c \ubc30\ud3ec \ucd5c\ucd08 \ud55c \ubc88\ub9cc prepare-argocd\ub97c \uc2e4\ud589\ud55c\ub2e4. parameter\ub294 \ud658\uacbd\uc5d0 \ub9de\uac8c \uc218\uc815\ud55c\ub2e4. # \uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud558\uc5ec argo-cd password \ub97c \ud655\uc778\ud560 \uc218 \uc788\ub2e4. kubectl -n argo get secret argocd-initial-admin-secret -o jsonpath = \"{.data.password}\" | base64 -d argo submit -n argo --from wftmpl/prepare-argocd \\ -p argo_username = \"admin\" \\ -p argo_password = \"PASSWORD\" # \uc704\uc5d0\uc11c \ud655\uc778\ub41c \ud328\uc2a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud55c\ub2e4. \\ -p argo_server = \"argo-cd-argocd-server.argo.svc:80\" argo list -n argo # \uc0dd\uc131\ub41c workflow\uac00 \uc644\ub8cc\ub420 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub9b0\ub2e4. lma \ubc30\ud3ec \ud604\uc7ac LMA app group \uc911 logging componet\uc758 \uacbd\uc6b0 loki \uc640 efk \uc911\uc5d0\uc11c \uc120\ud0dd\ud560 \uc218 \uc788\uc73c\uba70, \uac04\ub2e8\ud55c \ud14c\uc2a4\ud2b8 \ubaa9\uc801\uc758 \uacbd\uc6b0 \uc880\ub354 lightweight\ud55c 'loki'\ub97c \uad8c\uc7a5\ud55c\ub2e4. argo submit -n argo --from wftmpl/lma-federation \\ -p site_name = \"\uc0ac\uc774\ud2b8\uba85\" # decapod-manifests\uc758 \uc0ac\uc774\ud2b8 \ub514\ub809\ud1a0\ub9ac\uba85\uacfc \ubc18\ub4dc\uc2dc \uc77c\uce58\ud574\uc57c\ud55c\ub2e4. \\ -p logging_component = \"loki\" \\ -p manifest_repo_url = \"https://github.com/{YOUR_REPO_NAME}/decapod-manifests\" # decapod-manifests repository \uc8fc\uc18c argo list -n argo # \uc0dd\uc131\ub41c workflow\uac00 \uc644\ub8cc\ub420 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub9b0\ub2e4. \ubc30\ud3ec \ud655\uc778 LMA\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \ubc30\ud3ec\ub418\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 pod \ubc0f service \uc0c1\ud0dc\ub97c \ud655\uc778 \ud6c4 \ube0c\ub77c\uc6b0\uc838\ub97c \ud1b5\ud574 \uc11c\ube44\uc2a4\uc5d0 \uc811\uc18d\ud574\ubcf8\ub2e4. \uc2e4\uc81c service\uc758 NodePort \ubc88\ud638 \ub4f1\uc740 \uc124\uc815\uc5d0 \ub530\ub77c \uc870\uae08\uc529 \ub2e4\ub97c \uc218 \uc788\ub2e4. $ kubectl get pod -n lma NAME READY STATUS RESTARTS AGE prometheus-lma-prometheus-0 3 /3 Running 0 18d loki-0 1 /1 Running 0 20h grafana-7d5546bb4b-hvkqg 3 /3 Running 0 18d promtail-fctfs 1 /1 Running 0 18d ... $ kubectl get svc -n lma NAME TYPE CLUSTER-IP EXTERNAL-IP PORT ( S ) AGE grafana ClusterIP 10 .233.59.153 <none> 80 /TCP 18d lma-prometheus NodePort 10 .233.45.183 <none> 9090 :30008/TCP 18d loki ClusterIP 10 .233.62.51 <none> 3100 /TCP 18d ...","title":"Deploying applications"},{"location":"getting-started/deploying/#deploying-applications","text":"","title":"Deploying applications"},{"location":"getting-started/deploying/#_1","text":"argo CLI \uac00 \uc124\uce58\ub418\uc5b4 \uc788\uc5b4\uc57c \ud55c\ub2e4. argo CLI \uc124\uce58 decapod-flow\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 WorkflowTemplate \uc744 \uc544\ub798\uc640 \uac19\uc774 Argo Workflow Server\uc5d0 \ub4f1\ub85d\ud55c\ub2e4. \uac01\uac01\uc740 decapod\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 pre-defined workflow \ud15c\ud50c\ub9bf\uc774\ub2e4. git clone https://github.com/openinfradev/decapod-flow.git cd decapod-flow/templates # argo \ub97c \uc704\ud55c rbac manifest \ub97c \uc801\uc6a9\ud55c\ub2e4. kubectl apply -f argo-additional-rbac.yaml # workflow template\uc744 argo workflow server\uc5d0 \ub4f1\ub85d\ud55c\ub2e4. kubectl apply -f ./argo-cd/ kubectl apply -f ./decapod-apps/","title":"\uc0ac\uc804 \uc900\ube44"},{"location":"getting-started/deploying/#_2","text":"Note \uc774 \ubb38\uc11c\uc5d0\uc11c\ub294 LMA (Logging/Monitoring/Allerting) \ubc30\ud3ec\uc5d0 \ub300\ud574\uc11c\ub9cc \ub2e4\ub8ec\ub2e4.","title":"\ubc30\ud3ec"},{"location":"getting-started/deploying/#argo-cli","text":"\ucd5c\ucd08 \ud55c \ubc88\ub9cc prepare-argocd\ub97c \uc2e4\ud589\ud55c\ub2e4. parameter\ub294 \ud658\uacbd\uc5d0 \ub9de\uac8c \uc218\uc815\ud55c\ub2e4. # \uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud558\uc5ec argo-cd password \ub97c \ud655\uc778\ud560 \uc218 \uc788\ub2e4. kubectl -n argo get secret argocd-initial-admin-secret -o jsonpath = \"{.data.password}\" | base64 -d argo submit -n argo --from wftmpl/prepare-argocd \\ -p argo_username = \"admin\" \\ -p argo_password = \"PASSWORD\" # \uc704\uc5d0\uc11c \ud655\uc778\ub41c \ud328\uc2a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud55c\ub2e4. \\ -p argo_server = \"argo-cd-argocd-server.argo.svc:80\" argo list -n argo # \uc0dd\uc131\ub41c workflow\uac00 \uc644\ub8cc\ub420 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub9b0\ub2e4. lma \ubc30\ud3ec \ud604\uc7ac LMA app group \uc911 logging componet\uc758 \uacbd\uc6b0 loki \uc640 efk \uc911\uc5d0\uc11c \uc120\ud0dd\ud560 \uc218 \uc788\uc73c\uba70, \uac04\ub2e8\ud55c \ud14c\uc2a4\ud2b8 \ubaa9\uc801\uc758 \uacbd\uc6b0 \uc880\ub354 lightweight\ud55c 'loki'\ub97c \uad8c\uc7a5\ud55c\ub2e4. argo submit -n argo --from wftmpl/lma-federation \\ -p site_name = \"\uc0ac\uc774\ud2b8\uba85\" # decapod-manifests\uc758 \uc0ac\uc774\ud2b8 \ub514\ub809\ud1a0\ub9ac\uba85\uacfc \ubc18\ub4dc\uc2dc \uc77c\uce58\ud574\uc57c\ud55c\ub2e4. \\ -p logging_component = \"loki\" \\ -p manifest_repo_url = \"https://github.com/{YOUR_REPO_NAME}/decapod-manifests\" # decapod-manifests repository \uc8fc\uc18c argo list -n argo # \uc0dd\uc131\ub41c workflow\uac00 \uc644\ub8cc\ub420 \ub54c\uae4c\uc9c0 \uae30\ub2e4\ub9b0\ub2e4. \ubc30\ud3ec \ud655\uc778 LMA\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \ubc30\ud3ec\ub418\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 pod \ubc0f service \uc0c1\ud0dc\ub97c \ud655\uc778 \ud6c4 \ube0c\ub77c\uc6b0\uc838\ub97c \ud1b5\ud574 \uc11c\ube44\uc2a4\uc5d0 \uc811\uc18d\ud574\ubcf8\ub2e4. \uc2e4\uc81c service\uc758 NodePort \ubc88\ud638 \ub4f1\uc740 \uc124\uc815\uc5d0 \ub530\ub77c \uc870\uae08\uc529 \ub2e4\ub97c \uc218 \uc788\ub2e4. $ kubectl get pod -n lma NAME READY STATUS RESTARTS AGE prometheus-lma-prometheus-0 3 /3 Running 0 18d loki-0 1 /1 Running 0 20h grafana-7d5546bb4b-hvkqg 3 /3 Running 0 18d promtail-fctfs 1 /1 Running 0 18d ... $ kubectl get svc -n lma NAME TYPE CLUSTER-IP EXTERNAL-IP PORT ( S ) AGE grafana ClusterIP 10 .233.59.153 <none> 80 /TCP 18d lma-prometheus NodePort 10 .233.45.183 <none> 9090 :30008/TCP 18d loki ClusterIP 10 .233.62.51 <none> 3100 /TCP 18d ...","title":"Argo CLI\ub85c \ubc30\ud3ec"},{"location":"getting-started/install/","text":"Installation \uc0ac\uc804 \ud658\uacbd \uc900\ube44 Kubernetes Cluster >= v1.19 \ucd5c\uc18c 200Gi \uc774\uc0c1 \uc0ac\uc6a9 \uac00\ub2a5\ud55c Kubernetes Storage Class\uac00 \uc788\uc5b4\uc57c \ud55c\ub2e4. Decapod-bootstrap\uc744 \uc774\uc6a9\ud55c \uc124\uce58 Decapod-bootstrap\uc740 app-of-apps \ud328\ud134 \uc744 \uc0ac\uc6a9\ud558\uc5ec decapod component\ub4e4\uc744 bootstrap\ud558\uae30 \uc704\ud55c \ud504\ub85c\uc81d\ud2b8\uc774\ub2e4. argo-cd\ub97c \uc124\uce58\ud558\uba74\uc11c \ucd5c\ucd08\uc758 meta app\uc744 \uc0dd\uc131\ud558\uba70, \uc774 meta app\uc774 \uc2e4\uc81c \uc0ac\uc6a9\uc790 application\uc744 \uc124\uce58\ud574\uc8fc\ub294 \uad6c\uc870\ub85c \ub418\uc5b4\uc788\ub2e4. \uae30\ubcf8\uc801\uc73c\ub85c \ucd5c\uc18c\ud55c\uc758 \ub3d9\uc791\uc744 \uc704\ud574 \ub2e4\uc74c \ucef4\ud3ec\ub10c\ud2b8\ub4e4\uc744 \uc124\uce58\ud55c\ub2e4. argo-cd postgresql (argo-workflow\uac00 \uc0ac\uc6a9\ud558\ub294 DB) argo-workflow Fork & clone repository Decapod-bootstrap \uc744 \uac1c\uc778 repository\ub85c fork\ud55c \ud6c4 clone\ud55c\ub2e4 git clone https://github.com/{YOUR_REPO_NAME}/decapod-bootstrap \ub514\ub809\ud1a0\ub9ac \uad6c\uc870\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \ub418\uc5b4\uc788\ub2e4 \u251c\u2500\u2500 README.md \u251c\u2500\u2500 argocd-install \u2502 \u2514\u2500\u2500 values-override.yaml \u251c\u2500\u2500 decapod-apps \u2502 \u251c\u2500\u2500 README.md \u2502 \u251c\u2500\u2500 argo-workflows.yaml \u2502 \u251c\u2500\u2500 db-secret-decapod-db.yaml \u2502 \u251c\u2500\u2500 db-secret-argo.yaml \u2502 \u2514\u2500\u2500 postgresql.yaml \u2514\u2500\u2500 decapod-projects \u251c\u2500\u2500 README.md \u2514\u2500\u2500 decapod-controller.yaml Note \uc2e4\uc81c\ub85c\ub294 'decapod-apps-template' \ub4f1 Air-gapped \ud658\uacbd\uc5d0\uc11c\uc758 \ubc30\ud3ec\ub97c \uc704\ud55c \ucd94\uac00 \ud30c\uc77c\ub4e4\uc774 \uc788\uc9c0\ub9cc \ubcf8 \ub9e4\ub274\uc5bc\uc5d0\uc11c\ub294 \ud574\ub2f9 \ubd80\ubd84\uc740 \uc81c\uc678\ud558\uace0, \ub124\ud2b8\uc6cc\ud06c\uac00 \uc5f0\uacb0\ub41c \uc628\ub77c\uc778 \ud658\uacbd\uc744 \uae30\uc900\uc73c\ub85c \uc124\uba85\ud55c\ub2e4. argocd-install \ub514\ub809\ud1a0\ub9ac\ub294 argo-cd\uc5d0 bootstrap\uc6a9 project \ubc0f meta app\uc744 \uc0dd\uc131\ud558\uae30 \uc704\ud55c argocd helm chart\uc6a9 value-override file\uc744 \ud3ec\ud568\ud558\uace0 \uc788\ub2e4. helm chart\ub97c \uc218\ud589\ud558\uba74 argocd\uc5d0 \ucd5c\ucd08\ub85c decapod-bootstrap\uc774\ub77c\ub294 project\ub97c \ub9cc\ub4e4\uace0, \ud574\ub2f9 \ud504\ub85c\uc81d\ud2b8 \uc544\ub798 \ub2e4\uc74c\uc758 \ub450 application\uc744 \uc0dd\uc131\ud55c\ub2e4. decapod-projects \ub294 \uc2e4\uc81c application\uc6a9 project\ub97c \uc0dd\uc131\ud558\uae30 \uc704\ud55c meta app\uc73c\ub85c\uc11c, decapod-projects \ub77c\ub294 \ub514\ub809\ud1a0\ub9ac\ub97c \uac10\uc2dc\ud558\uace0 \uc788\ub2e4\uac00 project manifest \ud30c\uc77c\uc774 \ucd94\uac00\ub418\uba74 \uc774\ub97c \uac10\uc9c0\ud558\uc5ec argocd project\ub97c \uc0dd\uc131\ud55c\ub2e4. decapod-apps \ub294 \uc2e4\uc81c application\uc744 \uc0dd\uc131\ud558\uae30 \uc704\ud55c meta app\uc73c\ub85c\uc11c, decapod-apps \ub514\ub809\ud1a0\ub9ac\ub97c \uac10\uc2dc\ud558\uace0 \uc788\ub2e4\uac00 application manifest \ud30c\uc77c\uc774 \ucd94\uac00\ub418\uba74 \uc774\ub97c \uac10\uc9c0\ud558\uc5ec argocd application\uc744 \uc0dd\uc131\ud55c\ub2e4. additionalApplications: - name: decapod-apps namespace: argo destination: namespace: argo server: https://kubernetes.default.svc project: decapod-bootstrap source: path: decapod-apps repoURL: https://github.com/openinfradev/decapod-bootstrap.git targetRevision: HEAD directory: recurse: true jsonnet: {} syncPolicy: automated: selfHeal: true prune: true Note \uc704\uc758 \ub0b4\uc6a9\uc740 decapod-bootstrap \ud504\ub85c\uc81d\ud2b8\uc758 \ucf54\ub4dc\uc774\ubbc0\ub85c \uc2e4\uc81c \uc0ac\uc6a9\uc2dc\uc5d0\ub294 fork\ud55c repository\uc758 \uc8fc\uc18c\ub85c \uc54c\ub9de\uac8c \uce58\ud658\ud574\uc11c \uc0ac\uc6a9\ud574\uc57c \ud55c\ub2e4! Namespace \uc0dd\uc131 \ub2e4\uc74c\uc758 \ub450 namespace\ub97c \uc0dd\uc131\ud55c\ub2e4 $ kubectl create ns argo $ kubectl create ns decapod-db Install argo-cd argo-cd \ucc28\ud2b8\uc640 \uc704\uc5d0\uc11c \uc900\ube44\ud574\ub193\uc740 values-override \ud30c\uc77c\uc744 \uc774\uc6a9\ud558\uc5ec argo-cd\ub97c \uc124\uce58\ud55c\ub2e4. (chart location: https://artifacthub.io/packages/helm/argo/argo-cd) $ helm repo add argo https://argoproj.github.io/argo-helm $ helm install argo-cd argo/argo-cd --version 3.33.6 -f ./decapod-bootstrap/argocd-install/values-override.yaml -n argo Argo-cd\uac00 \uc124\uce58\ub418\uba74, decapod-projects \ubc0f decapod-apps application\uc774 \uc0dd\uc131\ub418\uba70, \uc774 application\ub4e4\uc774 \uc790\uc2e0\uc774 \ubc14\ub77c\ubcf4\uace0 \uc788\ub294 git repo \uc0c1\uc758 \ub514\ub809\ud1a0\ub9ac\ub97c \uc2a4\uce94\ud558\uc5ec \uc2e4\uc81c application\ub4e4\uc744 \uc21c\ucc28\uc801\uc73c\ub85c \uc124\uce58\ud558\uac8c \ub41c\ub2e4. Note \ubcf8 \uac00\uc774\ub4dc\uc5d0\uc11c\ub294 3.33.6 \ubc84\uc804\uc744 \uc0ac\uc6a9\ud588\uc9c0\ub9cc \ubb38\uc81c\uc5c6\uc774 \uc798 \ub3d9\uc791\ud55c\ub2e4\uba74 \ucd5c\uc2e0 \ubc84\uc804\uc744 \uc0ac\uc6a9\ud574\ub3c4 \ubb34\ubc29\ud558\ub2e4. \ub2e8, \uc774\ub54c \ucd5c\uc2e0 \ubc84\uc804\uc758 chart\uc640 values-override.yaml \ud30c\uc77c\uc744 \uc798 \ube44\uad50\ud558\uc5ec, \uac01 value\ub4e4\uc774 \uc81c\ub300\ub85c override\ub418\ub294\uc9c0 \ud655\uc778\ud574\uc57c \ud55c\ub2e4. \uacb0\uacfc \ud655\uc778 pod \ubc0f service \uc0c1\ud0dc \ud655\uc778 \uc544\ub798\uc640 \uac19\uc774 \ubaa8\ub4e0 pod \uc758 \uc0c1\ud0dc\uac00 running \uc0c1\ud0dc\uac00 \ub418\uace0 \uad00\ub828 service\ub4e4\uc774 \uc0dd\uc131\ub418\uc5c8\uc74c\uc744 \ud655\uc778\ud55c\ub2e4. $ kubectl get pods -n decapod-db NAME READY STATUS RESTARTS AGE postgresql-postgresql-0 1/1 Running 0 4m10s $ kubectl get pods -n argo NAME READY STATUS RESTARTS AGE argo-cd-argocd-application-controller-7bc75f949c-svrnk 1/1 Running 0 5m34s argo-cd-argocd-dex-server-7bd494f8b5-j5br5 1/1 Running 0 5m34s argo-cd-argocd-redis-6f696857c5-zmqfh 1/1 Running 0 5m34s argo-cd-argocd-repo-server-545455798b-st5x8 1/1 Running 0 5m34s argo-cd-argocd-server-6666cb7689-tswfr 1/1 Running 0 5m34s argo-workflows-operator-server-d7df65b99-gpx5q 0/1 Running 0 4m21s argo-workflows-operator-workflow-controller-598dfdd565-vrzg9 0/1 Running 0 4m21s $ kubectl get svc -n argo NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE argo-workflows-operator-server NodePort 10.233.41.126 <none> 2746:31746/TCP 146d argo-workflows-operator-workflow-controller ClusterIP 10.233.49.96 <none> 8080/TCP,8081/TCP 146d argocd-application-controller ClusterIP 10.233.27.147 <none> 8082/TCP 146d argocd-dex-server ClusterIP 10.233.59.123 <none> 5556/TCP,5557/TCP,5558/TCP 146d argocd-redis ClusterIP 10.233.31.14 <none> 6379/TCP 146d argocd-repo-server ClusterIP 10.233.46.180 <none> 8081/TCP 146d argocd-server NodePort 10.233.23.132 <none> 80:30080/TCP,443:30443/TCP 146d web UI \uc811\uc18d argo-cd \ubaa8\ub4e0 pod \uc774 Running \uc0c1\ud0dc\uac00 \ub428\uc744 \ud655\uc778\ud6c4, \uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 argo-cd\uc758 admin password \ub97c \ud655\uc778\ud55c\ub2e4. $ kubectl -n argo get secret argocd-initial-admin-secret -o jsonpath=\"{.data.password}\" | base64 -d argo-cd service\uc758 nodeport(\uc5ec\uae30\uc11c\ub294 30080)\ub97c \ud1b5\ud558\uc5ec \ub2e4\uc74c\uacfc \uac19\uc774 web UI \uc5d0 \uc811\uc18d\ud560 \uc218 \uc788\uc5b4\uc57c \ud55c\ub2e4.","title":"Installation"},{"location":"getting-started/install/#installation","text":"","title":"Installation"},{"location":"getting-started/install/#_1","text":"Kubernetes Cluster >= v1.19 \ucd5c\uc18c 200Gi \uc774\uc0c1 \uc0ac\uc6a9 \uac00\ub2a5\ud55c Kubernetes Storage Class\uac00 \uc788\uc5b4\uc57c \ud55c\ub2e4.","title":"\uc0ac\uc804 \ud658\uacbd \uc900\ube44"},{"location":"getting-started/install/#decapod-bootstrap","text":"Decapod-bootstrap\uc740 app-of-apps \ud328\ud134 \uc744 \uc0ac\uc6a9\ud558\uc5ec decapod component\ub4e4\uc744 bootstrap\ud558\uae30 \uc704\ud55c \ud504\ub85c\uc81d\ud2b8\uc774\ub2e4. argo-cd\ub97c \uc124\uce58\ud558\uba74\uc11c \ucd5c\ucd08\uc758 meta app\uc744 \uc0dd\uc131\ud558\uba70, \uc774 meta app\uc774 \uc2e4\uc81c \uc0ac\uc6a9\uc790 application\uc744 \uc124\uce58\ud574\uc8fc\ub294 \uad6c\uc870\ub85c \ub418\uc5b4\uc788\ub2e4. \uae30\ubcf8\uc801\uc73c\ub85c \ucd5c\uc18c\ud55c\uc758 \ub3d9\uc791\uc744 \uc704\ud574 \ub2e4\uc74c \ucef4\ud3ec\ub10c\ud2b8\ub4e4\uc744 \uc124\uce58\ud55c\ub2e4. argo-cd postgresql (argo-workflow\uac00 \uc0ac\uc6a9\ud558\ub294 DB) argo-workflow","title":"Decapod-bootstrap\uc744 \uc774\uc6a9\ud55c \uc124\uce58"},{"location":"getting-started/install/#fork-clone-repository","text":"Decapod-bootstrap \uc744 \uac1c\uc778 repository\ub85c fork\ud55c \ud6c4 clone\ud55c\ub2e4 git clone https://github.com/{YOUR_REPO_NAME}/decapod-bootstrap \ub514\ub809\ud1a0\ub9ac \uad6c\uc870\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \ub418\uc5b4\uc788\ub2e4 \u251c\u2500\u2500 README.md \u251c\u2500\u2500 argocd-install \u2502 \u2514\u2500\u2500 values-override.yaml \u251c\u2500\u2500 decapod-apps \u2502 \u251c\u2500\u2500 README.md \u2502 \u251c\u2500\u2500 argo-workflows.yaml \u2502 \u251c\u2500\u2500 db-secret-decapod-db.yaml \u2502 \u251c\u2500\u2500 db-secret-argo.yaml \u2502 \u2514\u2500\u2500 postgresql.yaml \u2514\u2500\u2500 decapod-projects \u251c\u2500\u2500 README.md \u2514\u2500\u2500 decapod-controller.yaml Note \uc2e4\uc81c\ub85c\ub294 'decapod-apps-template' \ub4f1 Air-gapped \ud658\uacbd\uc5d0\uc11c\uc758 \ubc30\ud3ec\ub97c \uc704\ud55c \ucd94\uac00 \ud30c\uc77c\ub4e4\uc774 \uc788\uc9c0\ub9cc \ubcf8 \ub9e4\ub274\uc5bc\uc5d0\uc11c\ub294 \ud574\ub2f9 \ubd80\ubd84\uc740 \uc81c\uc678\ud558\uace0, \ub124\ud2b8\uc6cc\ud06c\uac00 \uc5f0\uacb0\ub41c \uc628\ub77c\uc778 \ud658\uacbd\uc744 \uae30\uc900\uc73c\ub85c \uc124\uba85\ud55c\ub2e4. argocd-install \ub514\ub809\ud1a0\ub9ac\ub294 argo-cd\uc5d0 bootstrap\uc6a9 project \ubc0f meta app\uc744 \uc0dd\uc131\ud558\uae30 \uc704\ud55c argocd helm chart\uc6a9 value-override file\uc744 \ud3ec\ud568\ud558\uace0 \uc788\ub2e4. helm chart\ub97c \uc218\ud589\ud558\uba74 argocd\uc5d0 \ucd5c\ucd08\ub85c decapod-bootstrap\uc774\ub77c\ub294 project\ub97c \ub9cc\ub4e4\uace0, \ud574\ub2f9 \ud504\ub85c\uc81d\ud2b8 \uc544\ub798 \ub2e4\uc74c\uc758 \ub450 application\uc744 \uc0dd\uc131\ud55c\ub2e4. decapod-projects \ub294 \uc2e4\uc81c application\uc6a9 project\ub97c \uc0dd\uc131\ud558\uae30 \uc704\ud55c meta app\uc73c\ub85c\uc11c, decapod-projects \ub77c\ub294 \ub514\ub809\ud1a0\ub9ac\ub97c \uac10\uc2dc\ud558\uace0 \uc788\ub2e4\uac00 project manifest \ud30c\uc77c\uc774 \ucd94\uac00\ub418\uba74 \uc774\ub97c \uac10\uc9c0\ud558\uc5ec argocd project\ub97c \uc0dd\uc131\ud55c\ub2e4. decapod-apps \ub294 \uc2e4\uc81c application\uc744 \uc0dd\uc131\ud558\uae30 \uc704\ud55c meta app\uc73c\ub85c\uc11c, decapod-apps \ub514\ub809\ud1a0\ub9ac\ub97c \uac10\uc2dc\ud558\uace0 \uc788\ub2e4\uac00 application manifest \ud30c\uc77c\uc774 \ucd94\uac00\ub418\uba74 \uc774\ub97c \uac10\uc9c0\ud558\uc5ec argocd application\uc744 \uc0dd\uc131\ud55c\ub2e4. additionalApplications: - name: decapod-apps namespace: argo destination: namespace: argo server: https://kubernetes.default.svc project: decapod-bootstrap source: path: decapod-apps repoURL: https://github.com/openinfradev/decapod-bootstrap.git targetRevision: HEAD directory: recurse: true jsonnet: {} syncPolicy: automated: selfHeal: true prune: true Note \uc704\uc758 \ub0b4\uc6a9\uc740 decapod-bootstrap \ud504\ub85c\uc81d\ud2b8\uc758 \ucf54\ub4dc\uc774\ubbc0\ub85c \uc2e4\uc81c \uc0ac\uc6a9\uc2dc\uc5d0\ub294 fork\ud55c repository\uc758 \uc8fc\uc18c\ub85c \uc54c\ub9de\uac8c \uce58\ud658\ud574\uc11c \uc0ac\uc6a9\ud574\uc57c \ud55c\ub2e4!","title":"Fork &amp; clone repository"},{"location":"getting-started/install/#namespace","text":"\ub2e4\uc74c\uc758 \ub450 namespace\ub97c \uc0dd\uc131\ud55c\ub2e4 $ kubectl create ns argo $ kubectl create ns decapod-db","title":"Namespace \uc0dd\uc131"},{"location":"getting-started/install/#install-argo-cd","text":"argo-cd \ucc28\ud2b8\uc640 \uc704\uc5d0\uc11c \uc900\ube44\ud574\ub193\uc740 values-override \ud30c\uc77c\uc744 \uc774\uc6a9\ud558\uc5ec argo-cd\ub97c \uc124\uce58\ud55c\ub2e4. (chart location: https://artifacthub.io/packages/helm/argo/argo-cd) $ helm repo add argo https://argoproj.github.io/argo-helm $ helm install argo-cd argo/argo-cd --version 3.33.6 -f ./decapod-bootstrap/argocd-install/values-override.yaml -n argo Argo-cd\uac00 \uc124\uce58\ub418\uba74, decapod-projects \ubc0f decapod-apps application\uc774 \uc0dd\uc131\ub418\uba70, \uc774 application\ub4e4\uc774 \uc790\uc2e0\uc774 \ubc14\ub77c\ubcf4\uace0 \uc788\ub294 git repo \uc0c1\uc758 \ub514\ub809\ud1a0\ub9ac\ub97c \uc2a4\uce94\ud558\uc5ec \uc2e4\uc81c application\ub4e4\uc744 \uc21c\ucc28\uc801\uc73c\ub85c \uc124\uce58\ud558\uac8c \ub41c\ub2e4. Note \ubcf8 \uac00\uc774\ub4dc\uc5d0\uc11c\ub294 3.33.6 \ubc84\uc804\uc744 \uc0ac\uc6a9\ud588\uc9c0\ub9cc \ubb38\uc81c\uc5c6\uc774 \uc798 \ub3d9\uc791\ud55c\ub2e4\uba74 \ucd5c\uc2e0 \ubc84\uc804\uc744 \uc0ac\uc6a9\ud574\ub3c4 \ubb34\ubc29\ud558\ub2e4. \ub2e8, \uc774\ub54c \ucd5c\uc2e0 \ubc84\uc804\uc758 chart\uc640 values-override.yaml \ud30c\uc77c\uc744 \uc798 \ube44\uad50\ud558\uc5ec, \uac01 value\ub4e4\uc774 \uc81c\ub300\ub85c override\ub418\ub294\uc9c0 \ud655\uc778\ud574\uc57c \ud55c\ub2e4.","title":"Install argo-cd"},{"location":"getting-started/install/#_2","text":"","title":"\uacb0\uacfc \ud655\uc778"},{"location":"getting-started/install/#pod-service","text":"\uc544\ub798\uc640 \uac19\uc774 \ubaa8\ub4e0 pod \uc758 \uc0c1\ud0dc\uac00 running \uc0c1\ud0dc\uac00 \ub418\uace0 \uad00\ub828 service\ub4e4\uc774 \uc0dd\uc131\ub418\uc5c8\uc74c\uc744 \ud655\uc778\ud55c\ub2e4. $ kubectl get pods -n decapod-db NAME READY STATUS RESTARTS AGE postgresql-postgresql-0 1/1 Running 0 4m10s $ kubectl get pods -n argo NAME READY STATUS RESTARTS AGE argo-cd-argocd-application-controller-7bc75f949c-svrnk 1/1 Running 0 5m34s argo-cd-argocd-dex-server-7bd494f8b5-j5br5 1/1 Running 0 5m34s argo-cd-argocd-redis-6f696857c5-zmqfh 1/1 Running 0 5m34s argo-cd-argocd-repo-server-545455798b-st5x8 1/1 Running 0 5m34s argo-cd-argocd-server-6666cb7689-tswfr 1/1 Running 0 5m34s argo-workflows-operator-server-d7df65b99-gpx5q 0/1 Running 0 4m21s argo-workflows-operator-workflow-controller-598dfdd565-vrzg9 0/1 Running 0 4m21s $ kubectl get svc -n argo NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE argo-workflows-operator-server NodePort 10.233.41.126 <none> 2746:31746/TCP 146d argo-workflows-operator-workflow-controller ClusterIP 10.233.49.96 <none> 8080/TCP,8081/TCP 146d argocd-application-controller ClusterIP 10.233.27.147 <none> 8082/TCP 146d argocd-dex-server ClusterIP 10.233.59.123 <none> 5556/TCP,5557/TCP,5558/TCP 146d argocd-redis ClusterIP 10.233.31.14 <none> 6379/TCP 146d argocd-repo-server ClusterIP 10.233.46.180 <none> 8081/TCP 146d argocd-server NodePort 10.233.23.132 <none> 80:30080/TCP,443:30443/TCP 146d","title":"pod \ubc0f service \uc0c1\ud0dc \ud655\uc778"},{"location":"getting-started/install/#web-ui","text":"","title":"web UI \uc811\uc18d"},{"location":"getting-started/install/#argo-cd","text":"\ubaa8\ub4e0 pod \uc774 Running \uc0c1\ud0dc\uac00 \ub428\uc744 \ud655\uc778\ud6c4, \uc544\ub798 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 argo-cd\uc758 admin password \ub97c \ud655\uc778\ud55c\ub2e4. $ kubectl -n argo get secret argocd-initial-admin-secret -o jsonpath=\"{.data.password}\" | base64 -d argo-cd service\uc758 nodeport(\uc5ec\uae30\uc11c\ub294 30080)\ub97c \ud1b5\ud558\uc5ec \ub2e4\uc74c\uacfc \uac19\uc774 web UI \uc5d0 \uc811\uc18d\ud560 \uc218 \uc788\uc5b4\uc57c \ud55c\ub2e4.","title":"argo-cd"}]}